(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{113:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),o=t(10),c=t.n(o),i=t(165),l=t(18),m=t(71),s=t(152),u=t(154),d=t(168),p=t(162),g=t(116),b=t(167),h=t(161),f=t(158),v=t(157),E=t(156),k=t(33),x=t.n(k),j={getBooks:function(){return x.a.get("/api/books")},getBook:function(e){return x.a.get("/api/books/"+e)},deleteBook:function(e){return x.a.delete("/api/books/"+e)},saveBook:function(e){return x.a.post("/api/books",e)},search:function(e){return x.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)}},y=t(50),O=t.n(y),w=t(169),I=t(159),N=t(170),B=t(160),S=Object(s.a)(function(e){return{appbar:{alignItems:"center",backgroundColor:e.palette.background.paper,color:"black",marginTop:"20px",marginBottom:"20px"},buttons:{},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},cardMedia:{width:"150px",height:"200px"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},icon:{verticalAlign:"bottom",height:20,width:20},description:{alignItems:"center"},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}});var C=function(){var e=Object(n.useState)([]),a=Object(l.a)(e,2),t=a[0],o=a[1],c=Object(n.useState)(!1),i=Object(l.a)(c,2),m=i[0],s=i[1],d=S();function p(){j.getBooks().then(function(e){return o(e.data)}).catch(function(e){return console.log(e)})}return Object(n.useEffect)(function(){p()},[]),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{className:d.appbar,position:"relative",align:"center"},r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"h4",color:"inherit"},"Your Saved Books"))),r.a.createElement("main",null,t.length?t.map(function(e){return r.a.createElement(w.a,{expanded:m===e._id,onChange:(a=e._id,function(e,t){s(!!t&&a)})},r.a.createElement(N.a,{expandIcon:r.a.createElement(O.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},r.a.createElement(v.a,{container:!0,spacing:0},r.a.createElement(v.a,{item:!0,xs:2},r.a.createElement(f.a,{component:"img",className:d.cardMedia,image:e.image,height:"300",title:"Image title"})),r.a.createElement(v.a,{item:!0,xs:10},r.a.createElement(g.a,{variant:"caption",display:"block",gutterBottom:!0},"Title:"),r.a.createElement(g.a,{variant:"h3"},e.title),r.a.createElement(g.a,{variant:"caption",display:"block",gutterBottom:!0},"Author/s:"),r.a.createElement(g.a,{variant:"5"},e.authors.join(" & "))))),r.a.createElement(I.a,{className:d.description},r.a.createElement(g.a,{variant:"caption"},e.description,r.a.createElement("br",null))),r.a.createElement(B.a,null,r.a.createElement(h.a,{target:"_blank",variant:"contained",href:e.link,color:"primary",size:"small",className:d.buttons},"View"),r.a.createElement(h.a,{variant:"contained",color:"primary",size:"small",value:e.id,className:d.buttons,onClick:function(){return function(e){j.deleteBook(e._id).then(function(a){return console.log("".concat(e.title," removed from the database"))}).then(function(e){return p()}).catch(function(e){return console.log(e)})}(e)}},"Delete")));var a}):r.a.createElement(u.a,{className:d.appbar,position:"relative",align:"center"},r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"h4",color:"error"},"You haven't saved any books to the database yet")))))},F=t(166),T=t(69),D=t.n(T),L=Object(s.a)(function(e){return{root:{"& > *":{margin:e.spacing(2),width:"100ch"}},button:{marginTop:15,height:40,display:"flex"}}});function M(e){var a=L();return r.a.createElement("form",{onSubmit:e.handleFormSubmit,className:a.root,noValidate:!0,autoComplete:"off"},r.a.createElement(v.a,{container:!0,spacing:0},r.a.createElement(v.a,{item:!0,xs:11},r.a.createElement(F.a,{id:"search",label:e.label,name:"search",variant:"outlined",style:{margin:8},fullWidth:!0,onChange:e.handleInputChange,value:e.search})),r.a.createElement(v.a,{item:!0,xs:1},r.a.createElement(h.a,{className:a.button,onClick:e.handleFormSubmit,variant:"contained",color:"primary"},r.a.createElement(D.a,{className:a.icon})))))}var z=Object(s.a)(function(e){return{appbar:{alignItems:"center",backgroundColor:e.palette.background.paper,color:"black",marginTop:"20px",marginBottom:"20px"},buttons:{},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},cardMedia:{width:"150px",height:"200px"},expand:{transform:"rotate(0deg)",marginLeft:"auto",transition:e.transitions.create("transform",{duration:e.transitions.duration.shortest})},expandOpen:{transform:"rotate(180deg)"},icon:{verticalAlign:"bottom",height:20,width:20},description:{alignItems:"center"},helper:{borderLeft:"2px solid ".concat(e.palette.divider),padding:e.spacing(1,2)},link:{color:e.palette.primary.main,textDecoration:"none","&:hover":{textDecoration:"underline"}}}});var G=function(){var e=this,a=Object(n.useState)(""),t=Object(l.a)(a,2),o=t[0],c=t[1],i=Object(n.useState)([]),m=Object(l.a)(i,2),s=m[0],d=m[1],p=Object(n.useState)(""),b=Object(l.a)(p,2),k=b[0],x=b[1],y=Object(n.useState)(!1),S=Object(l.a)(y,2),C=S[0],F=S[1],T=z();Object(n.useEffect)(function(){},[]);var D=function(e){var a=s.find(function(a){return a.id===e}),t={googleID:a.id,title:a.volumeInfo.title,authors:a.volumeInfo.authors,description:a.volumeInfo.description,image:a.volumeInfo.imageLinks.smallThumbnail,link:a.volumeInfo.infoLink};j.saveBook(t).then(function(e){return console.log("".concat(t.title," Saved to the database"))}).catch(function(e){return x(e)})};return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{className:T.appbar,position:"relative",align:"center"},r.a.createElement(E.a,null,r.a.createElement(g.a,{variant:"h4",color:"inherit"},"Search for and save books of interest"))),r.a.createElement("main",null,r.a.createElement(u.a,{className:T.appbar,position:"relative",align:"center"},r.a.createElement(E.a,null,r.a.createElement(g.a,{component:"h1",variant:"h2",align:"center",color:"textPrimary",gutterBottom:!0}),r.a.createElement(v.a,{container:!0,spacing:2,justify:"center"},r.a.createElement(v.a,{item:!0},r.a.createElement(M,{handleInputChange:function(e){c(e.target.value)},handleFormSubmit:function(e){var a;e.preventDefault(),a=o,j.search(a).then(function(e){return d(e.data.items)}).catch(function(e){return console.log(e.message)})},value:o,label:"search for a book in GoogleBooks"}))))),s.length?s.map(function(a){return r.a.createElement(w.a,{expanded:C===a.id,onChange:(t=a.id,function(e,a){F(!!a&&t)})},r.a.createElement(N.a,{expandIcon:r.a.createElement(O.a,null),"aria-controls":"panel1c-content",id:"panel1c-header"},r.a.createElement(v.a,{container:!0,spacing:0},r.a.createElement(v.a,{item:!0,xs:2},r.a.createElement(f.a,{component:"img",className:T.cardMedia,image:a.volumeInfo.imageLinks.smallThumbnail,height:"300",title:"Image title"})),r.a.createElement(v.a,{item:!0,xs:10},r.a.createElement(g.a,{variant:"caption",display:"block",gutterBottom:!0},"Title:"),r.a.createElement(g.a,{variant:"h3"},a.volumeInfo.title),r.a.createElement(g.a,{variant:"caption",display:"block",gutterBottom:!0},"Author/s:"),r.a.createElement(g.a,{variant:"5"},a.volumeInfo.authors.join(" & "))))),r.a.createElement(I.a,{className:T.description},r.a.createElement(g.a,{variant:"caption"},a.volumeInfo.description,r.a.createElement("br",null))),r.a.createElement(B.a,null,r.a.createElement(h.a,{target:"_blank",variant:"contained",href:a.volumeInfo.infoLink,color:"primary",size:"small",className:T.buttons},"View"),r.a.createElement(h.a,{variant:"contained",color:"primary",size:"small",value:a.id,className:T.buttons,onClick:D.bind(e,a.id)},"Save")));var t}):r.a.createElement("p",null,k.message)))},_=t(70),A=t.n(_);function V(e){var a=e.children,t=e.value,n=e.index,o=Object(m.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:t!==n,id:"nav-tabpanel-".concat(n),"aria-labelledby":"nav-tab-".concat(n)},o),t===n&&r.a.createElement(b.a,{p:3},r.a.createElement(g.a,null,a)))}function R(e){return{id:"nav-tab-".concat(e),"aria-controls":"nav-tabpanel-".concat(e)}}function Y(e){return r.a.createElement(p.a,Object.assign({component:"a",onClick:function(e){e.preventDefault()}},e))}var J=Object(s.a)(function(e){return{root:{flexGrow:1,backgroundImage:"url('../../assets/images/library-wall.jpg')"},header:{background:"linear-gradient(45deg, #000000 30%, #FFFFFF 90%)",border:0,borderRadius:3,marginTop:"20px",boxShadow:"5px 10px 8px 10px #888888"},headerText:{fontFamily:"Impact",margin:"20px"},tab:{backgroundColor:e.palette.background.paper,margin:"10px"},background:{backgroundImage:"url(".concat(A.a,")"),backgroundSize:"100%"}}});function U(){var e=J(),a=r.a.useState(0),t=Object(l.a)(a,2),n=t[0],o=t[1];return r.a.createElement("div",{className:e.root},r.a.createElement(u.a,{position:"static",className:e.header},r.a.createElement(g.a,{className:e.headerText,variant:"h1",gutterBottom:!0},"Google Book Search"),r.a.createElement(d.a,{value:n,onChange:function(e,a){o(a)},"aria-label":"nav tabs",indicatorColor:"primary",textColor:"primary",centered:!0},r.a.createElement(Y,Object.assign({className:e.tab,label:"Search for some new books",href:"/search"},R(0))),r.a.createElement(Y,Object.assign({className:e.tab,label:"View your saved books",href:"/saved"},R(1))))),r.a.createElement(V,{className:e.background,value:n,index:0},r.a.createElement(G,null)),r.a.createElement(V,{className:e.background,value:n,index:1},r.a.createElement(C,null)))}var q=t(163);function P(){return r.a.createElement(g.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(q.a,{color:"inherit",href:"https://www.beautifulrevolution.com.au/"},"The Beautiful Revolution")," ",(new Date).getFullYear(),".")}var W=Object(s.a)(function(e){return{footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)}}});var H=function(){var e=W();return r.a.createElement("footer",{className:e.footer},r.a.createElement(g.a,{variant:"h6",align:"center",color:"textSecondary",component:"p"},"Built Using React, Mongo, Express, Node and Material UI"),r.a.createElement(P,null))},K=t(164),Q=function(){return r.a.createElement(K.a,null,r.a.createElement(i.a,null),r.a.createElement(U,null),r.a.createElement(H,null))};c.a.render(r.a.createElement(Q,null),document.getElementById("root"))},70:function(e,a,t){e.exports=t.p+"static/media/library-wall.50ca2a1c.jpg"},86:function(e,a,t){e.exports=t(113)}},[[86,1,2]]]);
//# sourceMappingURL=main.771014c1.chunk.js.map